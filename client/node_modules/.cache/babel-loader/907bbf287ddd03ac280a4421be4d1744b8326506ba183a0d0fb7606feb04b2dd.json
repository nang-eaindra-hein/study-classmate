{"ast":null,"code":"var _jsxFileName = \"/Users/nangeaindrahein/study-classmate/client/src/pages/PurchasePage.js\",\n  _s = $RefreshSig$();\n// client/src/pages/PurchasePage.js\n\nimport React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst API = process.env.REACT_APP_SERVER_URL || 'http://127.0.0.1:5001';\nexport default function PurchasePage() {\n  _s();\n  const username = localStorage.getItem('username');\n  const PACKAGES = [30, 60, 90, 150, 200, 300];\n  const CHESTS = [{\n    id: 1,\n    img: 'chest1.png',\n    chance: 5,\n    price: 0.99\n  }, {\n    id: 2,\n    img: 'chest2.png',\n    chance: 10,\n    price: 1.99\n  }, {\n    id: 3,\n    img: 'chest3.png',\n    chance: 20,\n    price: 3.99\n  }, {\n    id: 4,\n    img: 'chest4.png',\n    chance: 30,\n    price: 5.99\n  }, {\n    id: 5,\n    img: 'chest5.png',\n    chance: 40,\n    price: 8.99\n  }, {\n    id: 6,\n    img: 'chest6.png',\n    chance: 70,\n    price: 13.85\n  }];\n  const [diamonds, setDiamonds] = useState(20);\n  const [buyModal, setBuyModal] = useState({\n    show: false,\n    amount: 0,\n    price: 0\n  });\n  const [buyPayment, setBuyPayment] = useState({\n    cardNumber: '',\n    expiry: '',\n    cvv: ''\n  });\n  const [chestModal, setChestModal] = useState({\n    show: false,\n    chest: null,\n    phase: 'confirm',\n    reward: 0\n  });\n  const [chestPayment, setChestPayment] = useState({\n    cardNumber: '',\n    expiry: '',\n    cvv: ''\n  });\n  useEffect(() => {\n    fetch(`${API}/game-state?username=${username}`).then(r => r.json()).then(({\n      diamonds\n    }) => setDiamonds(diamonds)).catch(console.error);\n  }, [username]);\n  function openBuy(amount) {\n    const price = parseFloat((amount / 20 * 0.99).toFixed(2));\n    setBuyModal({\n      show: true,\n      amount,\n      price\n    });\n    setBuyPayment({\n      cardNumber: '',\n      expiry: '',\n      cvv: ''\n    });\n  }\n  function cancelBuy() {\n    setBuyModal({\n      show: false,\n      amount: 0,\n      price: 0\n    });\n  }\n  function confirmBuy() {\n    const newCount = diamonds + buyModal.amount;\n    fetch(`${API}/update-diamonds`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        username,\n        diamonds: newCount\n      })\n    }).catch(console.error);\n    setDiamonds(newCount);\n    cancelBuy();\n  }\n  function openChest(chest) {\n    setChestModal({\n      show: true,\n      chest,\n      phase: 'confirm',\n      reward: 0\n    });\n    setChestPayment({\n      cardNumber: '',\n      expiry: '',\n      cvv: ''\n    });\n  }\n  function cancelChest() {\n    setChestModal({\n      show: false,\n      chest: null,\n      phase: 'confirm',\n      reward: 0\n    });\n  }\n  function confirmChest() {\n    const {\n      chance\n    } = chestModal.chest;\n    const got300 = Math.random() * 100 < chance;\n    const reward = got300 ? 300 : 10;\n    const newCount = diamonds + reward;\n    fetch(`${API}/update-diamonds`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        username,\n        diamonds: newCount\n      })\n    }).catch(console.error);\n    setDiamonds(newCount);\n    setChestModal(m => ({\n      ...m,\n      phase: 'result',\n      reward\n    }));\n  }\n  const styles = {\n    page: {\n      position: 'relative',\n      minHeight: '100vh',\n      paddingTop: '5rem',\n      fontFamily: \"'Luckiest Guy', cursive\",\n      color: '#fff',\n      backgroundImage: `url(${process.env.PUBLIC_URL}/photos/pages5.jpg)`,\n      backgroundSize: 'cover',\n      backgroundPosition: 'center'\n    },\n    headerBar: {\n      position: 'fixed',\n      top: 0,\n      left: 0,\n      right: 0,\n      height: '4rem',\n      display: 'flex',\n      alignItems: 'center',\n      padding: '0 1.5rem',\n      background: 'rgba(0,0,0,0.6)',\n      zIndex: 1000\n    },\n    homeLink: {\n      position: 'absolute',\n      left: '1rem',\n      cursor: 'pointer'\n    },\n    homeImg: {\n      width: 48,\n      height: 48,\n      borderRadius: 8\n    },\n    headerCenter: {\n      margin: '0 auto',\n      textAlign: 'center'\n    },\n    headerTitle: {\n      color: '#fff',\n      fontSize: '2.2rem',\n      margin: 0\n    },\n    headerDiamonds: {\n      color: '#fff',\n      fontSize: '1.6rem',\n      marginTop: 4\n    },\n    sectionTitle: {\n      textAlign: 'center',\n      color: '#fff',\n      margin: '2.5rem 0 1rem',\n      fontSize: '1.8rem'\n    },\n    storeGrid: {\n      display: 'grid',\n      gridTemplateColumns: 'repeat(auto-fit,minmax(120px,1fr))',\n      gap: '1.5rem',\n      width: '90%',\n      maxWidth: 800,\n      margin: '0 auto'\n    },\n    package: {\n      display: 'flex',\n      flexDirection: 'column',\n      alignItems: 'center'\n    },\n    packagePic: {\n      width: 80,\n      height: 80,\n      objectFit: 'contain'\n    },\n    labelUnder: {\n      marginTop: 8,\n      color: '#fff',\n      fontWeight: 'bold'\n    },\n    buyBtn: {\n      marginTop: 8,\n      padding: '0.4rem 0.8rem',\n      background: '#4caf50',\n      color: '#fff',\n      border: 'none',\n      borderRadius: 4,\n      cursor: 'pointer',\n      position: 'relative',\n      zIndex: 1\n    },\n    chestGrid: {\n      display: 'grid',\n      gridTemplateColumns: 'repeat(auto-fit,minmax(120px,1fr))',\n      gap: '1.5rem',\n      width: '90%',\n      maxWidth: 800,\n      margin: '1rem auto 3rem'\n    },\n    chestOption: {\n      display: 'flex',\n      flexDirection: 'column',\n      alignItems: 'center'\n    },\n    chestPic: {\n      width: 70,\n      height: 70,\n      objectFit: 'contain'\n    },\n    chestInfo: {\n      color: '#fff',\n      marginTop: 4,\n      textAlign: 'center',\n      fontSize: '0.9rem'\n    },\n    chestPrice: {\n      color: '#fff',\n      marginTop: 4,\n      textAlign: 'center',\n      fontSize: '0.9rem'\n    },\n    modalOverlay: {\n      position: 'fixed',\n      top: 0,\n      left: 0,\n      right: 0,\n      bottom: 0,\n      background: 'rgba(0,0,0,0.5)',\n      display: 'flex',\n      alignItems: 'center',\n      justifyContent: 'center',\n      zIndex: 2000\n    },\n    modalContent: {\n      background: '#222',\n      padding: '1.5rem',\n      borderRadius: 6,\n      textAlign: 'center',\n      color: '#fff',\n      width: '90%',\n      maxWidth: 320\n    },\n    paymentForm: {\n      display: 'flex',\n      flexDirection: 'column',\n      gap: 8,\n      margin: '1rem 0'\n    },\n    input: {\n      padding: 8,\n      borderRadius: 4,\n      border: 'none',\n      fontSize: '1rem'\n    },\n    modalButtons: {\n      display: 'flex',\n      gap: 12,\n      justifyContent: 'center'\n    },\n    btn: {\n      padding: '0.4rem 0.8rem',\n      background: '#4caf50',\n      color: '#fff',\n      border: 'none',\n      borderRadius: 4,\n      cursor: 'pointer',\n      position: 'relative',\n      zIndex: 1\n    },\n    btnDisabled: {\n      opacity: 0.5,\n      cursor: 'not-allowed'\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: styles.page,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: styles.headerBar,\n      children: [/*#__PURE__*/_jsxDEV(Link, {\n        to: \"/home2\",\n        style: styles.homeLink,\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: `${process.env.PUBLIC_URL}/photos/home.jpg`,\n          alt: \"Home\",\n          style: styles.homeImg\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 180,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: styles.headerCenter,\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          style: styles.headerTitle,\n          children: \"Store\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: styles.headerDiamonds,\n          children: [\"\\uD83D\\uDC8E \", diamonds]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 184,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      style: styles.sectionTitle,\n      children: \"Buy Diamonds\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: styles.storeGrid,\n      children: PACKAGES.map((amt, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n        style: styles.package,\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: `${process.env.PUBLIC_URL}/photos/gem${i + 1}.png`,\n          alt: `${amt} diamonds`,\n          style: styles.packagePic\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 193,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: styles.labelUnder,\n          children: [amt, \" Diamonds\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 198,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          style: styles.buyBtn,\n          onClick: () => openBuy(amt),\n          children: \"Buy\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 199,\n          columnNumber: 13\n        }, this)]\n      }, i, true, {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      style: styles.sectionTitle,\n      children: \"Open a Chest\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 210,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: styles.chestGrid,\n      children: CHESTS.map(c => /*#__PURE__*/_jsxDEV(\"div\", {\n        style: styles.chestOption,\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: `${process.env.PUBLIC_URL}/photos/${c.img}`,\n          alt: `Chest ${c.id}`,\n          style: styles.chestPic\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 214,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: styles.chestInfo,\n          children: [c.chance, \"% chance to get 300 \\u2666\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 219,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: styles.chestPrice,\n          children: [\"SGD $\", c.price.toFixed(2)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 220,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          style: styles.buyBtn,\n          onClick: () => openChest(c),\n          children: \"Open Chest\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 221,\n          columnNumber: 13\n        }, this)]\n      }, c.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 213,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 211,\n      columnNumber: 7\n    }, this), buyModal.show && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: styles.modalOverlay,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        style: styles.modalContent,\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Buy \", /*#__PURE__*/_jsxDEV(\"strong\", {\n            children: buyModal.amount\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 236,\n            columnNumber: 19\n          }, this), \" diamonds for\", ' ', /*#__PURE__*/_jsxDEV(\"strong\", {\n            children: [\"SGD $\", buyModal.price]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 237,\n            columnNumber: 15\n          }, this), \"?\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 235,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: styles.paymentForm,\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            placeholder: \"Card Number\",\n            value: buyPayment.cardNumber,\n            onChange: e => setBuyPayment(bp => ({\n              ...bp,\n              cardNumber: e.target.value\n            })),\n            style: styles.input\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 240,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            placeholder: \"MM/YY\",\n            value: buyPayment.expiry,\n            onChange: e => setBuyPayment(bp => ({\n              ...bp,\n              expiry: e.target.value\n            })),\n            style: styles.input\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 247,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            placeholder: \"CVV\",\n            value: buyPayment.cvv,\n            onChange: e => setBuyPayment(bp => ({\n              ...bp,\n              cvv: e.target.value\n            })),\n            style: styles.input\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 254,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 239,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: styles.modalButtons,\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            style: styles.btn,\n            onClick: cancelBuy,\n            children: \"Cancel\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 263,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            style: {\n              ...styles.btn,\n              ...(!buyPayment.cardNumber || !buyPayment.expiry || !buyPayment.cvv ? styles.btnDisabled : {})\n            },\n            onClick: confirmBuy,\n            disabled: !buyPayment.cardNumber || !buyPayment.expiry || !buyPayment.cvv,\n            children: \"Confirm\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 269,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 262,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 234,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 233,\n      columnNumber: 9\n    }, this), chestModal.show && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: styles.modalOverlay,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        style: styles.modalContent,\n        children: chestModal.phase === 'confirm' ? /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"Open Chest #\", chestModal.chest.id, \" for\", ' ', /*#__PURE__*/_jsxDEV(\"strong\", {\n              children: [\"SGD $\", chestModal.chest.price.toFixed(2)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 295,\n              columnNumber: 19\n            }, this), \"?\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 293,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: styles.paymentForm,\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              placeholder: \"Card Number\",\n              value: chestPayment.cardNumber,\n              onChange: e => setChestPayment(cp => ({\n                ...cp,\n                cardNumber: e.target.value\n              })),\n              style: styles.input\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 298,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              placeholder: \"MM/YY\",\n              value: chestPayment.expiry,\n              onChange: e => setChestPayment(cp => ({\n                ...cp,\n                expiry: e.target.value\n              })),\n              style: styles.input\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 305,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              placeholder: \"CVV\",\n              value: chestPayment.cvv,\n              onChange: e => setChestPayment(cp => ({\n                ...cp,\n                cvv: e.target.value\n              })),\n              style: styles.input\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 312,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 297,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: styles.modalButtons,\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              style: styles.btn,\n              onClick: cancelChest,\n              children: \"Cancel\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 321,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              style: {\n                ...styles.btn,\n                ...(!chestPayment.cardNumber || !chestPayment.expiry || !chestPayment.cvv ? styles.btnDisabled : {})\n              },\n              onClick: confirmChest,\n              disabled: !chestPayment.cardNumber || !chestPayment.expiry || !chestPayment.cvv,\n              children: \"Open Chest\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 324,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 320,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"\\uD83C\\uDF89 You got \", /*#__PURE__*/_jsxDEV(\"strong\", {\n              children: chestModal.reward\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 341,\n              columnNumber: 31\n            }, this), \" diamonds!\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 341,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            style: styles.btn,\n            onClick: cancelChest,\n            children: \"OK\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 342,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 290,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 289,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 176,\n    columnNumber: 5\n  }, this);\n}\n_s(PurchasePage, \"yusDg6rW610HxQ9eginkWhY01w0=\");\n_c = PurchasePage;\nvar _c;\n$RefreshReg$(_c, \"PurchasePage\");","map":{"version":3,"names":["React","useState","useEffect","Link","jsxDEV","_jsxDEV","Fragment","_Fragment","API","process","env","REACT_APP_SERVER_URL","PurchasePage","_s","username","localStorage","getItem","PACKAGES","CHESTS","id","img","chance","price","diamonds","setDiamonds","buyModal","setBuyModal","show","amount","buyPayment","setBuyPayment","cardNumber","expiry","cvv","chestModal","setChestModal","chest","phase","reward","chestPayment","setChestPayment","fetch","then","r","json","catch","console","error","openBuy","parseFloat","toFixed","cancelBuy","confirmBuy","newCount","method","headers","body","JSON","stringify","openChest","cancelChest","confirmChest","got300","Math","random","m","styles","page","position","minHeight","paddingTop","fontFamily","color","backgroundImage","PUBLIC_URL","backgroundSize","backgroundPosition","headerBar","top","left","right","height","display","alignItems","padding","background","zIndex","homeLink","cursor","homeImg","width","borderRadius","headerCenter","margin","textAlign","headerTitle","fontSize","headerDiamonds","marginTop","sectionTitle","storeGrid","gridTemplateColumns","gap","maxWidth","package","flexDirection","packagePic","objectFit","labelUnder","fontWeight","buyBtn","border","chestGrid","chestOption","chestPic","chestInfo","chestPrice","modalOverlay","bottom","justifyContent","modalContent","paymentForm","input","modalButtons","btn","btnDisabled","opacity","style","children","to","src","alt","fileName","_jsxFileName","lineNumber","columnNumber","map","amt","i","onClick","c","type","placeholder","value","onChange","e","bp","target","disabled","cp","_c","$RefreshReg$"],"sources":["/Users/nangeaindrahein/study-classmate/client/src/pages/PurchasePage.js"],"sourcesContent":["// client/src/pages/PurchasePage.js\n\nimport React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\n\nconst API = process.env.REACT_APP_SERVER_URL || 'http://127.0.0.1:5001';\n\nexport default function PurchasePage() {\n  const username = localStorage.getItem('username');\n  const PACKAGES = [30, 60, 90, 150, 200, 300];\n  const CHESTS = [\n    { id: 1, img: 'chest1.png', chance: 5, price: 0.99 },\n    { id: 2, img: 'chest2.png', chance: 10, price: 1.99 },\n    { id: 3, img: 'chest3.png', chance: 20, price: 3.99 },\n    { id: 4, img: 'chest4.png', chance: 30, price: 5.99 },\n    { id: 5, img: 'chest5.png', chance: 40, price: 8.99 },\n    { id: 6, img: 'chest6.png', chance: 70, price: 13.85 },\n  ];\n\n  const [diamonds, setDiamonds] = useState(20);\n  const [buyModal, setBuyModal] = useState({ show: false, amount: 0, price: 0 });\n  const [buyPayment, setBuyPayment] = useState({ cardNumber: '', expiry: '', cvv: '' });\n  const [chestModal, setChestModal] = useState({ show: false, chest: null, phase: 'confirm', reward: 0 });\n  const [chestPayment, setChestPayment] = useState({ cardNumber: '', expiry: '', cvv: '' });\n\n  useEffect(() => {\n    fetch(`${API}/game-state?username=${username}`)\n      .then(r => r.json())\n      .then(({ diamonds }) => setDiamonds(diamonds))\n      .catch(console.error);\n  }, [username]);\n\n  function openBuy(amount) {\n    const price = parseFloat(((amount / 20) * 0.99).toFixed(2));\n    setBuyModal({ show: true, amount, price });\n    setBuyPayment({ cardNumber: '', expiry: '', cvv: '' });\n  }\n  function cancelBuy() {\n    setBuyModal({ show: false, amount: 0, price: 0 });\n  }\n  function confirmBuy() {\n    const newCount = diamonds + buyModal.amount;\n    fetch(`${API}/update-diamonds`, {\n      method: 'POST',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify({ username, diamonds: newCount }),\n    }).catch(console.error);\n    setDiamonds(newCount);\n    cancelBuy();\n  }\n\n  function openChest(chest) {\n    setChestModal({ show: true, chest, phase: 'confirm', reward: 0 });\n    setChestPayment({ cardNumber: '', expiry: '', cvv: '' });\n  }\n  function cancelChest() {\n    setChestModal({ show: false, chest: null, phase: 'confirm', reward: 0 });\n  }\n  function confirmChest() {\n    const { chance } = chestModal.chest;\n    const got300 = Math.random() * 100 < chance;\n    const reward = got300 ? 300 : 10;\n    const newCount = diamonds + reward;\n    fetch(`${API}/update-diamonds`, {\n      method: 'POST',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify({ username, diamonds: newCount }),\n    }).catch(console.error);\n    setDiamonds(newCount);\n    setChestModal(m => ({ ...m, phase: 'result', reward }));\n  }\n\n  const styles = {\n    page: {\n      position: 'relative',\n      minHeight: '100vh',\n      paddingTop: '5rem',\n      fontFamily: \"'Luckiest Guy', cursive\",\n      color: '#fff',\n      backgroundImage: `url(${process.env.PUBLIC_URL}/photos/pages5.jpg)`,\n      backgroundSize: 'cover',\n      backgroundPosition: 'center',\n    },\n    headerBar: {\n      position: 'fixed',\n      top: 0, left: 0, right: 0,\n      height: '4rem',\n      display: 'flex',\n      alignItems: 'center',\n      padding: '0 1.5rem',\n      background: 'rgba(0,0,0,0.6)',\n      zIndex: 1000,\n    },\n    homeLink: { position: 'absolute', left: '1rem', cursor: 'pointer' },\n    homeImg: { width: 48, height: 48, borderRadius: 8 },\n    headerCenter: { margin: '0 auto', textAlign: 'center' },\n    headerTitle: { color: '#fff', fontSize: '2.2rem', margin: 0 },\n    headerDiamonds: { color: '#fff', fontSize: '1.6rem', marginTop: 4 },\n    sectionTitle: {\n      textAlign: 'center', color: '#fff',\n      margin: '2.5rem 0 1rem', fontSize: '1.8rem',\n    },\n    storeGrid: {\n      display: 'grid',\n      gridTemplateColumns: 'repeat(auto-fit,minmax(120px,1fr))',\n      gap: '1.5rem',\n      width: '90%',\n      maxWidth: 800,\n      margin: '0 auto',\n    },\n    package: { display: 'flex', flexDirection: 'column', alignItems: 'center' },\n    packagePic: { width: 80, height: 80, objectFit: 'contain' },\n    labelUnder: { marginTop: 8, color: '#fff', fontWeight: 'bold' },\n    buyBtn: {\n      marginTop: 8,\n      padding: '0.4rem 0.8rem',\n      background: '#4caf50',\n      color: '#fff',\n      border: 'none',\n      borderRadius: 4,\n      cursor: 'pointer',\n      position: 'relative',\n      zIndex: 1,\n    },\n    chestGrid: {\n      display: 'grid',\n      gridTemplateColumns: 'repeat(auto-fit,minmax(120px,1fr))',\n      gap: '1.5rem',\n      width: '90%',\n      maxWidth: 800,\n      margin: '1rem auto 3rem',\n    },\n    chestOption: { display: 'flex', flexDirection: 'column', alignItems: 'center' },\n    chestPic: { width: 70, height: 70, objectFit: 'contain' },\n    chestInfo: { color: '#fff', marginTop: 4, textAlign: 'center', fontSize: '0.9rem' },\n    chestPrice: { color: '#fff', marginTop: 4, textAlign: 'center', fontSize: '0.9rem' },\n    modalOverlay: {\n      position: 'fixed', top: 0, left: 0, right: 0, bottom: 0,\n      background: 'rgba(0,0,0,0.5)',\n      display: 'flex',\n      alignItems: 'center',\n      justifyContent: 'center',\n      zIndex: 2000,\n    },\n    modalContent: {\n      background: '#222',\n      padding: '1.5rem',\n      borderRadius: 6,\n      textAlign: 'center',\n      color: '#fff',\n      width: '90%',\n      maxWidth: 320,\n    },\n    paymentForm: { display: 'flex', flexDirection: 'column', gap: 8, margin: '1rem 0' },\n    input: {\n      padding: 8,\n      borderRadius: 4,\n      border: 'none',\n      fontSize: '1rem',\n    },\n    modalButtons: { display: 'flex', gap: 12, justifyContent: 'center' },\n    btn: {\n      padding: '0.4rem 0.8rem',\n      background: '#4caf50',\n      color: '#fff',\n      border: 'none',\n      borderRadius: 4,\n      cursor: 'pointer',\n      position: 'relative',\n      zIndex: 1,\n    },\n    btnDisabled: { opacity: 0.5, cursor: 'not-allowed' },\n  };\n\n  return (\n    <div style={styles.page}>\n      {/* HEADER */}\n      <div style={styles.headerBar}>\n        <Link to=\"/home2\" style={styles.homeLink}>\n          <img src={`${process.env.PUBLIC_URL}/photos/home.jpg`} alt=\"Home\" style={styles.homeImg} />\n        </Link>\n        <div style={styles.headerCenter}>\n          <h1 style={styles.headerTitle}>Store</h1>\n          <div style={styles.headerDiamonds}>ðŸ’Ž {diamonds}</div>\n        </div>\n      </div>\n\n      {/* BUY DIAMONDS */}\n      <h2 style={styles.sectionTitle}>Buy Diamonds</h2>\n      <div style={styles.storeGrid}>\n        {PACKAGES.map((amt, i) => (\n          <div key={i} style={styles.package}>\n            <img\n              src={`${process.env.PUBLIC_URL}/photos/gem${i + 1}.png`}\n              alt={`${amt} diamonds`}\n              style={styles.packagePic}\n            />\n            <div style={styles.labelUnder}>{amt} Diamonds</div>\n            <button\n              style={styles.buyBtn}\n              onClick={() => openBuy(amt)}\n            >\n              Buy\n            </button>\n          </div>\n        ))}\n      </div>\n\n      {/* OPEN A CHEST */}\n      <h2 style={styles.sectionTitle}>Open a Chest</h2>\n      <div style={styles.chestGrid}>\n        {CHESTS.map(c => (\n          <div key={c.id} style={styles.chestOption}>\n            <img\n              src={`${process.env.PUBLIC_URL}/photos/${c.img}`}\n              alt={`Chest ${c.id}`}\n              style={styles.chestPic}\n            />\n            <div style={styles.chestInfo}>{c.chance}% chance to get 300 â™¦</div>\n            <div style={styles.chestPrice}>SGD ${c.price.toFixed(2)}</div>\n            <button\n              style={styles.buyBtn}\n              onClick={() => openChest(c)}\n            >\n              Open Chest\n            </button>\n          </div>\n        ))}\n      </div>\n\n      {/* BUY MODAL */}\n      {buyModal.show && (\n        <div style={styles.modalOverlay}>\n          <div style={styles.modalContent}>\n            <p>\n              Buy <strong>{buyModal.amount}</strong> diamonds for{' '}\n              <strong>SGD ${buyModal.price}</strong>?\n            </p>\n            <div style={styles.paymentForm}>\n              <input\n                type=\"text\"\n                placeholder=\"Card Number\"\n                value={buyPayment.cardNumber}\n                onChange={e => setBuyPayment(bp => ({ ...bp, cardNumber: e.target.value }))}\n                style={styles.input}\n              />\n              <input\n                type=\"text\"\n                placeholder=\"MM/YY\"\n                value={buyPayment.expiry}\n                onChange={e => setBuyPayment(bp => ({ ...bp, expiry: e.target.value }))}\n                style={styles.input}\n              />\n              <input\n                type=\"text\"\n                placeholder=\"CVV\"\n                value={buyPayment.cvv}\n                onChange={e => setBuyPayment(bp => ({ ...bp, cvv: e.target.value }))}\n                style={styles.input}\n              />\n            </div>\n            <div style={styles.modalButtons}>\n              <button\n                style={styles.btn}\n                onClick={cancelBuy}\n              >\n                Cancel\n              </button>\n              <button\n                style={{\n                  ...styles.btn,\n                  ...( !buyPayment.cardNumber || !buyPayment.expiry || !buyPayment.cvv\n                    ? styles.btnDisabled\n                    : {}\n                  )\n                }}\n                onClick={confirmBuy}\n                disabled={!buyPayment.cardNumber || !buyPayment.expiry || !buyPayment.cvv}\n              >\n                Confirm\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* CHEST MODAL */}\n      {chestModal.show && (\n        <div style={styles.modalOverlay}>\n          <div style={styles.modalContent}>\n            {chestModal.phase === 'confirm' ? (\n              <>\n                <p>\n                  Open Chest #{chestModal.chest.id} for{' '}\n                  <strong>SGD ${chestModal.chest.price.toFixed(2)}</strong>?\n                </p>\n                <div style={styles.paymentForm}>\n                  <input\n                    type=\"text\"\n                    placeholder=\"Card Number\"\n                    value={chestPayment.cardNumber}\n                    onChange={e => setChestPayment(cp => ({ ...cp, cardNumber: e.target.value }))}\n                    style={styles.input}\n                  />\n                  <input\n                    type=\"text\"\n                    placeholder=\"MM/YY\"\n                    value={chestPayment.expiry}\n                    onChange={e => setChestPayment(cp => ({ ...cp, expiry: e.target.value }))}\n                    style={styles.input}\n                  />\n                  <input\n                    type=\"text\"\n                    placeholder=\"CVV\"\n                    value={chestPayment.cvv}\n                    onChange={e => setChestPayment(cp => ({ ...cp, cvv: e.target.value }))}\n                    style={styles.input}\n                  />\n                </div>\n                <div style={styles.modalButtons}>\n                  <button style={styles.btn} onClick={cancelChest}>\n                    Cancel\n                  </button>\n                  <button\n                    style={{\n                      ...styles.btn,\n                      ...( !chestPayment.cardNumber || !chestPayment.expiry || !chestPayment.cvv\n                        ? styles.btnDisabled\n                        : {}\n                      )\n                    }}\n                    onClick={confirmChest}\n                    disabled={!chestPayment.cardNumber || !chestPayment.expiry || !chestPayment.cvv}\n                  >\n                    Open Chest\n                  </button>\n                </div>\n              </>\n            ) : (\n              <>\n                <p>ðŸŽ‰ You got <strong>{chestModal.reward}</strong> diamonds!</p>\n                <button style={styles.btn} onClick={cancelChest}>OK</button>\n              </>\n            )}\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}