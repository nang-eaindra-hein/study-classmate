{"ast":null,"code":"var _jsxFileName = \"/Users/nangeaindrahein/study-classmate/client/src/pages/PlayPage.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport './PlayPage.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function PlayPage() {\n  _s();\n  var _quizCards$currentInd;\n  const navigate = useNavigate();\n  const TODAY = new Date().toDateString();\n  const username = localStorage.getItem('username');\n\n  // â€” GENERAL STATE â€”\n  const [activeTab, setActiveTab] = useState('Play');\n  const [diamonds, setDiamonds] = useState(20);\n  const [scores, setScores] = useState([]);\n\n  // â€” CARD SELECTION STATE â€”\n  const [mode, setMode] = useState('select');\n  const [cards, setCards] = useState([]);\n  const [count, setCount] = useState(5);\n  const [loadingGen, setLoadingGen] = useState(false);\n  const [manualList, setManualList] = useState(Array.from({\n    length: count\n  }, () => ({\n    word: '',\n    definition: ''\n  })));\n\n  // â€” QUIZ STATE â€”\n  const [quizCards, setQuizCards] = useState([]);\n  const [currentIndex, setCurrentIndex] = useState(0);\n  const [timer, setTimer] = useState(15);\n  const timerRef = useRef(null);\n  const [guess, setGuess] = useState('');\n  const [results, setResults] = useState([]);\n\n  // â€” MODALS & GAME OVER â€”\n  const [showSkip, setShowSkip] = useState(false);\n  const [showNoDiamonds, setShowNoDiamonds] = useState(false);\n  const [showFillModal, setShowFillModal] = useState(false);\n  const [showName, setShowName] = useState(false);\n  const [playerName, setPlayerName] = useState('');\n  const [sortBy, setSortBy] = useState('highest');\n\n  // â”€â”€â”€ 0) ON MOUNT: load diamonds & scores â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n  useEffect(() => {\n    fetch(`http://127.0.0.1:5001/game-state?username=${username}`).then(res => res.json()).then(({\n      diamonds,\n      scores\n    }) => {\n      setDiamonds(diamonds);\n      setScores(scores);\n    }).catch(console.error);\n  }, [username]);\n\n  // â”€â”€â”€ 1) GENERATE WORDS & DEFINITIONS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n  const handleGenerate = async () => {\n    setLoadingGen(true);\n    try {\n      const unique = new Set();\n      while (unique.size < count) {\n        const res = await fetch('http://127.0.0.1:5001/generate-word', {\n          method: 'POST'\n        });\n        const {\n          word\n        } = await res.json();\n        unique.add(word);\n      }\n      const words = Array.from(unique);\n      const defs = await Promise.all(words.map(async word => {\n        const r = await fetch('http://127.0.0.1:5001/define-word', {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify({\n            word\n          })\n        });\n        const {\n          content\n        } = await r.json();\n        const head = content.split(/Example sentence/i)[0];\n        const m = head.match(/Definition:\\s*([^-\\n]+)/i);\n        const definition = m ? m[1].trim() : head.replace(/[-]/g, '').trim();\n        return {\n          word,\n          definition\n        };\n      }));\n      setCards(defs);\n      setMode('review');\n    } catch (err) {\n      console.error(err);\n    } finally {\n      setLoadingGen(false);\n    }\n  };\n\n  // â”€â”€â”€ 2) MANUAL REVIEW â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n  const handleReviewManual = () => {\n    setCards(manualList.slice(0, count));\n    setMode('review');\n  };\n\n  // â”€â”€â”€ 3) START QUIZ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n  const handleStartQuiz = () => {\n    setQuizCards([...cards].sort(() => Math.random() - 0.5));\n    setResults([]);\n    setCurrentIndex(0);\n    setTimer(15);\n    setGuess('');\n    setMode('quiz');\n  };\n\n  // â”€â”€â”€ TIMER EFFECT â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n  useEffect(() => {\n    if (mode === 'quiz') {\n      clearInterval(timerRef.current);\n      timerRef.current = setInterval(() => {\n        setTimer(t => {\n          if (t <= 1) {\n            clearInterval(timerRef.current);\n            submitAnswer();\n            return 15;\n          }\n          return t - 1;\n        });\n      }, 1000);\n    }\n    return () => clearInterval(timerRef.current);\n  }, [mode, currentIndex]);\n\n  // â”€â”€â”€ 4) SUBMIT ANSWER â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n  const submitAnswer = () => {\n    if (!guess.trim()) {\n      return setShowFillModal(true);\n    }\n    clearInterval(timerRef.current);\n    const card = quizCards[currentIndex];\n    const correct = guess.trim().toLowerCase() === card.word.toLowerCase();\n    setResults(r => [...r, {\n      ...card,\n      correct\n    }]);\n    setGuess('');\n    if (currentIndex + 1 < quizCards.length) {\n      setCurrentIndex(i => i + 1);\n      setTimer(15);\n    } else {\n      setShowName(true);\n    }\n  };\n\n  // â”€â”€â”€ 5) SKIP (â€“10 diamonds) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n  const confirmSkip = () => {\n    diamonds >= 10 ? setShowSkip(true) : setShowNoDiamonds(true);\n  };\n  const doSkip = () => {\n    clearInterval(timerRef.current);\n    const newD = diamonds - 10;\n    setDiamonds(newD);\n    fetch('http://127.0.0.1:5001/update-diamonds', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        username,\n        diamonds: newD\n      })\n    }).catch(console.error);\n    setShowSkip(false);\n    setResults(r => [...r, {\n      ...quizCards[currentIndex],\n      correct: false\n    }]);\n    if (currentIndex + 1 < quizCards.length) {\n      setCurrentIndex(i => i + 1);\n      setTimer(15);\n    } else {\n      setShowName(true);\n    }\n  };\n\n  // â”€â”€â”€ 6) SAVE SCORE + BUMP STREAK â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n  const saveScore = () => {\n    if (!playerName.trim()) return;\n    const correctCount = results.filter(r => r.correct).length;\n\n    // a) save score\n    fetch('http://127.0.0.1:5001/save-score', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        username,\n        name: playerName,\n        score: correctCount\n      })\n    }).then(res => res.json()).then(({\n      scores: updated\n    }) => {\n      setScores(updated);\n      setShowName(false);\n      setMode('select');\n      setPlayerName('');\n\n      // b) bump streak once per day\n      const last = localStorage.getItem('lastQuizDate');\n      if (last !== TODAY) {\n        localStorage.setItem('lastQuizDate', TODAY);\n        fetch(`http://127.0.0.1:5001/get-streak?username=${username}`).then(r => r.json()).then(({\n          streakDays\n        }) => {\n          const next = (streakDays || 0) + 1;\n          return fetch('http://127.0.0.1:5001/save-streak', {\n            method: 'POST',\n            headers: {\n              'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({\n              username,\n              streakDays: next\n            })\n          });\n        }).catch(console.error);\n      }\n    }).catch(console.error);\n  };\n\n  // â”€â”€â”€ SORTED LEADERBOARD â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n  const sorted = [...scores].sort((a, b) => {\n    if (sortBy === 'highest') return b.score - a.score;\n    if (sortBy === 'lowest') return a.score - b.score;\n    if (sortBy === 'earliest') return new Date(a.time) - new Date(b.time);\n    return new Date(b.time) - new Date(a.time);\n  });\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"common-page\",\n    style: {\n      backgroundImage: `url(${process.env.PUBLIC_URL}/photos/pages3.jpg)`\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"header-bar\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"home-link\",\n        onClick: () => navigate('/home2'),\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: `${process.env.PUBLIC_URL}/photos/home.jpg`,\n          className: \"streak-home\",\n          alt: \"Home\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 218,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 217,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Let\\u2019s Play\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"right-bar\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"diamonds\",\n          children: [\"\\uD83D\\uDC8E \", diamonds]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 227,\n          columnNumber: 11\n        }, this), activeTab === 'Play' ? /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setActiveTab('Leaderboard'),\n          children: \"Leaderboard\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 229,\n          columnNumber: 15\n        }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setActiveTab('Play'),\n          children: \"Back\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 230,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 226,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 216,\n      columnNumber: 7\n    }, this), activeTab === 'Play' && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"play-area\",\n      children: [mode === 'select' && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"select-panel\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Number of Cards:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 240,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          value: count,\n          onChange: e => {\n            const n = +e.target.value;\n            setCount(n);\n            setManualList(Array.from({\n              length: n\n            }, () => ({\n              word: '',\n              definition: ''\n            })));\n          },\n          children: [5, 10, 15].map(n => /*#__PURE__*/_jsxDEV(\"option\", {\n            value: n,\n            children: n\n          }, n, false, {\n            fileName: _jsxFileName,\n            lineNumber: 250,\n            columnNumber: 19\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 241,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleGenerate,\n          disabled: loadingGen,\n          children: loadingGen ? 'Generatingâ€¦' : 'Generate From AI'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 253,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Or Manual Insert:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 257,\n          columnNumber: 15\n        }, this), manualList.map((c, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"manual-row\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            placeholder: \"Word\",\n            value: c.word,\n            onChange: e => {\n              const copy = [...manualList];\n              copy[i].word = e.target.value;\n              setManualList(copy);\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 260,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            placeholder: \"Meaning\",\n            value: c.definition,\n            onChange: e => {\n              const copy = [...manualList];\n              copy[i].definition = e.target.value;\n              setManualList(copy);\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 269,\n            columnNumber: 19\n          }, this)]\n        }, i, true, {\n          fileName: _jsxFileName,\n          lineNumber: 259,\n          columnNumber: 17\n        }, this)), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleReviewManual,\n          disabled: !manualList.slice(0, count).every(c => c.word && c.definition),\n          children: \"Review Manual Cards\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 281,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 239,\n        columnNumber: 13\n      }, this), mode === 'review' && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"review-panel\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Flashcards Preview\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 293,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flashcard-list\",\n          children: cards.map((c, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flashcard\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"inner\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"front\",\n                children: c.word\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 298,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"back\",\n                children: c.definition\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 299,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 297,\n              columnNumber: 21\n            }, this)\n          }, i, false, {\n            fileName: _jsxFileName,\n            lineNumber: 296,\n            columnNumber: 19\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 294,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"review-buttons\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setMode('select'),\n            children: \"Back\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 305,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleStartQuiz,\n            children: \"Start Quiz\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 306,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 304,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 292,\n        columnNumber: 13\n      }, this), mode === 'quiz' && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"quiz-panel\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Time left: \", timer, \"s\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 314,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: (_quizCards$currentInd = quizCards[currentIndex]) === null || _quizCards$currentInd === void 0 ? void 0 : _quizCards$currentInd.definition\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 315,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          value: guess,\n          onChange: e => setGuess(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 316,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"quiz-buttons\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: submitAnswer,\n            children: \"Submit\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 318,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: confirmSkip,\n            children: \"Skip\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 319,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => window.location.reload(),\n            children: \"Restart\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 320,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 317,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 313,\n        columnNumber: 13\n      }, this), showSkip && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-content\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Use 10 diamonds to skip?\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 329,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: doSkip,\n            children: \"Yes\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 330,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setShowSkip(false),\n            children: \"No\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 331,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 328,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 327,\n        columnNumber: 13\n      }, this), showNoDiamonds && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-content warning\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"No more diamonds\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 339,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => navigate('/purchase'),\n            children: \"Store\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 340,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setShowNoDiamonds(false),\n            children: \"Cancel\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 341,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 338,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 337,\n        columnNumber: 13\n      }, this), showFillModal && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-content\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Fill the blank\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 349,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setShowFillModal(false),\n            children: \"OK\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 350,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 348,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 347,\n        columnNumber: 13\n      }, this), showName && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-content\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Game Over!\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 358,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"Score: \", results.filter(r => r.correct).length]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 359,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            placeholder: \"Enter your name\",\n            value: playerName,\n            onChange: e => setPlayerName(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 360,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: saveScore,\n            children: \"Save\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 365,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 357,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 356,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 236,\n      columnNumber: 9\n    }, this), activeTab === 'Leaderboard' && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"leaderboard\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Leaderboard\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 375,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        value: sortBy,\n        onChange: e => setSortBy(e.target.value),\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"highest\",\n          children: \"Highest Score\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 377,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"lowest\",\n          children: \"Lowest Score\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 378,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"earliest\",\n          children: \"Earliest\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 379,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"latest\",\n          children: \"Latest\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 380,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 376,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        children: sorted.map((s, i) => /*#__PURE__*/_jsxDEV(\"li\", {\n          children: [s.name, \" \\u2013 \", s.score, \" \\u2013 \", s.time]\n        }, i, true, {\n          fileName: _jsxFileName,\n          lineNumber: 384,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 382,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 374,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 212,\n    columnNumber: 5\n  }, this);\n}\n_s(PlayPage, \"AmGeM5319j6+849gY/svDsnM/eg=\", false, function () {\n  return [useNavigate];\n});\n_c = PlayPage;\nvar _c;\n$RefreshReg$(_c, \"PlayPage\");","map":{"version":3,"names":["React","useState","useEffect","useRef","useNavigate","jsxDEV","_jsxDEV","PlayPage","_s","_quizCards$currentInd","navigate","TODAY","Date","toDateString","username","localStorage","getItem","activeTab","setActiveTab","diamonds","setDiamonds","scores","setScores","mode","setMode","cards","setCards","count","setCount","loadingGen","setLoadingGen","manualList","setManualList","Array","from","length","word","definition","quizCards","setQuizCards","currentIndex","setCurrentIndex","timer","setTimer","timerRef","guess","setGuess","results","setResults","showSkip","setShowSkip","showNoDiamonds","setShowNoDiamonds","showFillModal","setShowFillModal","showName","setShowName","playerName","setPlayerName","sortBy","setSortBy","fetch","then","res","json","catch","console","error","handleGenerate","unique","Set","size","method","add","words","defs","Promise","all","map","r","headers","body","JSON","stringify","content","head","split","m","match","trim","replace","err","handleReviewManual","slice","handleStartQuiz","sort","Math","random","clearInterval","current","setInterval","t","submitAnswer","card","correct","toLowerCase","i","confirmSkip","doSkip","newD","saveScore","correctCount","filter","name","score","updated","last","setItem","streakDays","next","sorted","a","b","time","className","style","backgroundImage","process","env","PUBLIC_URL","children","onClick","src","alt","fileName","_jsxFileName","lineNumber","columnNumber","value","onChange","e","n","target","disabled","c","placeholder","copy","every","window","location","reload","s","_c","$RefreshReg$"],"sources":["/Users/nangeaindrahein/study-classmate/client/src/pages/PlayPage.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport './PlayPage.css';\n\nexport default function PlayPage() {\n  const navigate = useNavigate();\n  const TODAY    = new Date().toDateString();\n  const username = localStorage.getItem('username');\n\n  // â€” GENERAL STATE â€”\n  const [activeTab, setActiveTab] = useState('Play');\n  const [diamonds, setDiamonds]   = useState(20);\n  const [scores, setScores]       = useState([]);\n\n  // â€” CARD SELECTION STATE â€”\n  const [mode, setMode]           = useState('select');\n  const [cards, setCards]         = useState([]);\n  const [count, setCount]         = useState(5);\n  const [loadingGen, setLoadingGen] = useState(false);\n  const [manualList, setManualList] = useState(\n    Array.from({ length: count }, () => ({ word: '', definition: '' }))\n  );\n\n  // â€” QUIZ STATE â€”\n  const [quizCards, setQuizCards]     = useState([]);\n  const [currentIndex, setCurrentIndex] = useState(0);\n  const [timer, setTimer]             = useState(15);\n  const timerRef                       = useRef(null);\n  const [guess, setGuess]             = useState('');\n  const [results, setResults]         = useState([]);\n\n  // â€” MODALS & GAME OVER â€”\n  const [showSkip, setShowSkip]       = useState(false);\n  const [showNoDiamonds, setShowNoDiamonds] = useState(false);\n  const [showFillModal, setShowFillModal]   = useState(false);\n  const [showName, setShowName]             = useState(false);\n  const [playerName, setPlayerName]         = useState('');\n  const [sortBy, setSortBy]                 = useState('highest');\n\n  // â”€â”€â”€ 0) ON MOUNT: load diamonds & scores â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n  useEffect(() => {\n    fetch(`http://127.0.0.1:5001/game-state?username=${username}`)\n      .then(res => res.json())\n      .then(({ diamonds, scores }) => {\n        setDiamonds(diamonds);\n        setScores(scores);\n      })\n      .catch(console.error);\n  }, [username]);\n\n  // â”€â”€â”€ 1) GENERATE WORDS & DEFINITIONS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n  const handleGenerate = async () => {\n    setLoadingGen(true);\n    try {\n      const unique = new Set();\n      while (unique.size < count) {\n        const res = await fetch('http://127.0.0.1:5001/generate-word', { method: 'POST' });\n        const { word } = await res.json();\n        unique.add(word);\n      }\n      const words = Array.from(unique);\n\n      const defs = await Promise.all(\n        words.map(async (word) => {\n          const r = await fetch('http://127.0.0.1:5001/define-word', {\n            method: 'POST',\n            headers: { 'Content-Type': 'application/json' },\n            body: JSON.stringify({ word }),\n          });\n          const { content } = await r.json();\n          const head = content.split(/Example sentence/i)[0];\n          const m = head.match(/Definition:\\s*([^-\\n]+)/i);\n          const definition = m ? m[1].trim() : head.replace(/[-]/g, '').trim();\n          return { word, definition };\n        })\n      );\n\n      setCards(defs);\n      setMode('review');\n    } catch (err) {\n      console.error(err);\n    } finally {\n      setLoadingGen(false);\n    }\n  };\n\n  // â”€â”€â”€ 2) MANUAL REVIEW â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n  const handleReviewManual = () => {\n    setCards(manualList.slice(0, count));\n    setMode('review');\n  };\n\n  // â”€â”€â”€ 3) START QUIZ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n  const handleStartQuiz = () => {\n    setQuizCards([...cards].sort(() => Math.random() - 0.5));\n    setResults([]);\n    setCurrentIndex(0);\n    setTimer(15);\n    setGuess('');\n    setMode('quiz');\n  };\n\n  // â”€â”€â”€ TIMER EFFECT â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n  useEffect(() => {\n    if (mode === 'quiz') {\n      clearInterval(timerRef.current);\n      timerRef.current = setInterval(() => {\n        setTimer(t => {\n          if (t <= 1) {\n            clearInterval(timerRef.current);\n            submitAnswer();\n            return 15;\n          }\n          return t - 1;\n        });\n      }, 1000);\n    }\n    return () => clearInterval(timerRef.current);\n  }, [mode, currentIndex]);\n\n  // â”€â”€â”€ 4) SUBMIT ANSWER â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n  const submitAnswer = () => {\n    if (!guess.trim()) {\n      return setShowFillModal(true);\n    }\n    clearInterval(timerRef.current);\n    const card = quizCards[currentIndex];\n    const correct = guess.trim().toLowerCase() === card.word.toLowerCase();\n    setResults(r => [...r, { ...card, correct }]);\n    setGuess('');\n    if (currentIndex + 1 < quizCards.length) {\n      setCurrentIndex(i => i + 1);\n      setTimer(15);\n    } else {\n      setShowName(true);\n    }\n  };\n\n  // â”€â”€â”€ 5) SKIP (â€“10 diamonds) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n  const confirmSkip = () => {\n    diamonds >= 10 ? setShowSkip(true) : setShowNoDiamonds(true);\n  };\n  const doSkip = () => {\n    clearInterval(timerRef.current);\n    const newD = diamonds - 10;\n    setDiamonds(newD);\n    fetch('http://127.0.0.1:5001/update-diamonds', {\n      method: 'POST',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify({ username, diamonds: newD }),\n    }).catch(console.error);\n\n    setShowSkip(false);\n    setResults(r => [...r, { ...quizCards[currentIndex], correct: false }]);\n    if (currentIndex + 1 < quizCards.length) {\n      setCurrentIndex(i => i + 1);\n      setTimer(15);\n    } else {\n      setShowName(true);\n    }\n  };\n\n  // â”€â”€â”€ 6) SAVE SCORE + BUMP STREAK â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n  const saveScore = () => {\n    if (!playerName.trim()) return;\n\n    const correctCount = results.filter(r => r.correct).length;\n\n    // a) save score\n    fetch('http://127.0.0.1:5001/save-score', {\n      method: 'POST',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify({ username, name: playerName, score: correctCount }),\n    })\n      .then(res => res.json())\n      .then(({ scores: updated }) => {\n        setScores(updated);\n        setShowName(false);\n        setMode('select');\n        setPlayerName('');\n\n        // b) bump streak once per day\n        const last = localStorage.getItem('lastQuizDate');\n        if (last !== TODAY) {\n          localStorage.setItem('lastQuizDate', TODAY);\n          fetch(`http://127.0.0.1:5001/get-streak?username=${username}`)\n            .then(r => r.json())\n            .then(({ streakDays }) => {\n              const next = (streakDays || 0) + 1;\n              return fetch('http://127.0.0.1:5001/save-streak', {\n                method: 'POST',\n                headers: { 'Content-Type': 'application/json' },\n                body: JSON.stringify({ username, streakDays: next }),\n              });\n            })\n            .catch(console.error);\n        }\n      })\n      .catch(console.error);\n  };\n\n  // â”€â”€â”€ SORTED LEADERBOARD â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n  const sorted = [...scores].sort((a, b) => {\n    if (sortBy === 'highest')  return b.score - a.score;\n    if (sortBy === 'lowest')   return a.score - b.score;\n    if (sortBy === 'earliest') return new Date(a.time) - new Date(b.time);\n    return new Date(b.time) - new Date(a.time);\n  });\n\n\n  return (\n    <div className=\"common-page\"\n         style={{ backgroundImage: `url(${process.env.PUBLIC_URL}/photos/pages3.jpg)` }}\n    >\n      {/* HEADER */}\n      <div className=\"header-bar\">\n        <div className=\"home-link\" onClick={() => navigate('/home2')}>\n          <img\n            src={`${process.env.PUBLIC_URL}/photos/home.jpg`}\n            className=\"streak-home\"\n            alt=\"Home\"\n          />\n        </div>\n\n        <h1>Letâ€™s Play</h1>\n        <div className=\"right-bar\">\n          <span className=\"diamonds\">ðŸ’Ž {diamonds}</span>\n          {activeTab === 'Play'\n            ? <button onClick={() => setActiveTab('Leaderboard')}>Leaderboard</button>\n            : <button onClick={() => setActiveTab('Play')}>Back</button>}\n        </div>\n      </div>\n\n      {/* PLAY AREA */}\n      {activeTab === 'Play' && (\n        <div className=\"play-area\">\n          {/* SELECT MODE */}\n          {mode === 'select' && (\n            <div className=\"select-panel\">\n              <label>Number of Cards:</label>\n              <select\n                value={count}\n                onChange={e => {\n                  const n = +e.target.value;\n                  setCount(n);\n                  setManualList(Array.from({ length: n }, () => ({ word:'',definition:'' })));\n                }}\n              >\n                {[5,10,15].map(n => (\n                  <option key={n} value={n}>{n}</option>\n                ))}\n              </select>\n              <button onClick={handleGenerate} disabled={loadingGen}>\n                {loadingGen ? 'Generatingâ€¦' : 'Generate From AI'}\n              </button>\n\n              <h3>Or Manual Insert:</h3>\n              {manualList.map((c,i) => (\n                <div key={i} className=\"manual-row\">\n                  <input\n                    placeholder=\"Word\"\n                    value={c.word}\n                    onChange={e => {\n                      const copy = [...manualList];\n                      copy[i].word = e.target.value;\n                      setManualList(copy);\n                    }}\n                  />\n                  <input\n                    placeholder=\"Meaning\"\n                    value={c.definition}\n                    onChange={e => {\n                      const copy = [...manualList];\n                      copy[i].definition = e.target.value;\n                      setManualList(copy);\n                    }}\n                  />\n                </div>\n              ))}\n\n              <button\n                onClick={handleReviewManual}\n                disabled={!manualList.slice(0,count).every(c=>c.word&&c.definition)}\n              >\n                Review Manual Cards\n              </button>\n            </div>\n          )}\n\n          {/* REVIEW MODE */}\n          {mode === 'review' && (\n            <div className=\"review-panel\">\n              <h2>Flashcards Preview</h2>\n              <div className=\"flashcard-list\">\n                {cards.map((c,i)=>(\n                  <div key={i} className=\"flashcard\">\n                    <div className=\"inner\">\n                      <div className=\"front\">{c.word}</div>\n                      <div className=\"back\">{c.definition}</div>\n                    </div>\n                  </div>\n                ))}\n              </div>\n              <div className=\"review-buttons\">\n                <button onClick={()=>setMode('select')}>Back</button>\n                <button onClick={handleStartQuiz}>Start Quiz</button>\n              </div>\n            </div>\n          )}\n\n          {/* QUIZ MODE */}\n          {mode === 'quiz' && (\n            <div className=\"quiz-panel\">\n              <p>Time left: {timer}s</p>\n              <p>{quizCards[currentIndex]?.definition}</p>\n              <input value={guess} onChange={e=>setGuess(e.target.value)} />\n              <div className=\"quiz-buttons\">\n                <button onClick={submitAnswer}>Submit</button>\n                <button onClick={confirmSkip}>Skip</button>\n                <button onClick={()=>window.location.reload()}>Restart</button>\n              </div>\n            </div>\n          )}\n\n          {/* MODALS */}\n          {showSkip && (\n            <div className=\"modal\">\n              <div className=\"modal-content\">\n                <p>Use 10 diamonds to skip?</p>\n                <button onClick={doSkip}>Yes</button>\n                <button onClick={()=>setShowSkip(false)}>No</button>\n              </div>\n            </div>\n          )}\n\n          {showNoDiamonds && (\n            <div className=\"modal\">\n              <div className=\"modal-content warning\">\n                <p>No more diamonds</p>\n                <button onClick={()=>navigate('/purchase')}>Store</button>\n                <button onClick={()=>setShowNoDiamonds(false)}>Cancel</button>\n              </div>\n            </div>\n          )}\n\n          {showFillModal && (\n            <div className=\"modal\">\n              <div className=\"modal-content\">\n                <p>Fill the blank</p>\n                <button onClick={()=>setShowFillModal(false)}>OK</button>\n              </div>\n            </div>\n          )}\n\n          {showName && (\n            <div className=\"modal\">\n              <div className=\"modal-content\">\n                <h3>Game Over!</h3>\n                <p>Score: {results.filter(r=>r.correct).length}</p>\n                <input\n                  placeholder=\"Enter your name\"\n                  value={playerName}\n                  onChange={e=>setPlayerName(e.target.value)}\n                />\n                <button onClick={saveScore}>Save</button>\n              </div>\n            </div>\n          )}\n        </div>\n      )}\n\n      {/* LEADERBOARD */}\n      {activeTab === 'Leaderboard' && (\n        <div className=\"leaderboard\">\n          <h2>Leaderboard</h2>\n          <select value={sortBy} onChange={e=>setSortBy(e.target.value)}>\n            <option value=\"highest\">Highest Score</option>\n            <option value=\"lowest\">Lowest Score</option>\n            <option value=\"earliest\">Earliest</option>\n            <option value=\"latest\">Latest</option>\n          </select>\n          <ul>\n            {sorted.map((s,i)=>(\n              <li key={i}>{s.name} â€“ {s.score} â€“ {s.time}</li>\n            ))}\n          </ul>\n        </div>\n      )}\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}