{"ast":null,"code":"import _objectSpread from\"/Users/nangeaindrahein/study-classmate/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect,useRef,useCallback}from'react';import{useNavigate}from'react-router-dom';import'./PlayPage.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function PlayPage(){var _quizCards$currentInd;const navigate=useNavigate();const TODAY=new Date().toDateString();const username=localStorage.getItem('username');// — GENERAL STATE —\nconst[activeTab,setActiveTab]=useState('Play');const[diamonds,setDiamonds]=useState(20);const[scores,setScores]=useState([]);// — CARD SELECTION STATE —\nconst[mode,setMode]=useState('select');const[cards,setCards]=useState([]);const[count,setCount]=useState(5);const[loadingGen,setLoadingGen]=useState(false);const[manualList,setManualList]=useState(Array.from({length:count},()=>({word:'',definition:''})));// — QUIZ STATE —\nconst[quizCards,setQuizCards]=useState([]);const[currentIndex,setCurrentIndex]=useState(0);const[timer,setTimer]=useState(15);const timerRef=useRef(null);const[guess,setGuess]=useState('');const[results,setResults]=useState([]);// — MODALS & GAME OVER —\nconst[showSkip,setShowSkip]=useState(false);const[showNoDiamonds,setShowNoDiamonds]=useState(false);const[showFillModal,setShowFillModal]=useState(false);const[showName,setShowName]=useState(false);const[playerName,setPlayerName]=useState('');const[sortBy,setSortBy]=useState('highest');// 0) ON MOUNT: load diamonds & scores\nuseEffect(()=>{fetch(\"https://study-classmate-server.onrender.com/game-state?username=\".concat(username)).then(res=>res.json()).then(_ref=>{let{diamonds,scores}=_ref;setDiamonds(diamonds);setScores(scores);}).catch(console.error);},[username]);// 1) GENERATE WORDS & DEFINITIONS\nconst handleGenerate=async()=>{setLoadingGen(true);try{const unique=new Set();while(unique.size<count){const res=await fetch('https://study-classmate-server.onrender.com/generate-word',{method:'POST'});const{word}=await res.json();unique.add(word);}const words=Array.from(unique);const defs=await Promise.all(words.map(async word=>{const r=await fetch('https://study-classmate-server.onrender.com/define-word',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({word})});const{content}=await r.json();const head=content.split(/Example sentence/i)[0];const m=head.match(/Definition:\\s*([^-\\n]+)/i);const definition=m?m[1].trim():head.replace(/[-]/g,'').trim();return{word,definition};}));setCards(defs);setMode('review');}catch(err){console.error(err);}finally{setLoadingGen(false);}};// 2) MANUAL REVIEW\nconst handleReviewManual=()=>{setCards(manualList.slice(0,count));setMode('review');};// 3) START QUIZ\nconst handleStartQuiz=()=>{setQuizCards([...cards].sort(()=>Math.random()-0.5));setResults([]);setCurrentIndex(0);setTimer(15);setGuess('');setMode('quiz');};// 4) SUBMIT ANSWER\nconst submitAnswer=useCallback(()=>{if(!guess.trim()){setShowFillModal(true);return;}clearInterval(timerRef.current);const card=quizCards[currentIndex];const correct=guess.trim().toLowerCase()===card.word.toLowerCase();setResults(r=>[...r,_objectSpread(_objectSpread({},card),{},{correct})]);setGuess('');if(currentIndex+1<quizCards.length){setCurrentIndex(i=>i+1);setTimer(15);}else{setShowName(true);}},[guess,quizCards,currentIndex]);// TIMER EFFECT\nuseEffect(()=>{if(mode==='quiz'){clearInterval(timerRef.current);timerRef.current=setInterval(()=>{setTimer(t=>{if(t<=1){clearInterval(timerRef.current);submitAnswer();return 15;}return t-1;});},1000);}return()=>clearInterval(timerRef.current);},[mode,currentIndex,submitAnswer]);// 5) SKIP (–10 diamonds)\nconst confirmSkip=()=>{diamonds>=10?setShowSkip(true):setShowNoDiamonds(true);};const doSkip=()=>{clearInterval(timerRef.current);const newD=diamonds-10;setDiamonds(newD);fetch('https://study-classmate-server.onrender.com/update-diamonds',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({username,diamonds:newD})}).catch(console.error);setShowSkip(false);setResults(r=>[...r,_objectSpread(_objectSpread({},quizCards[currentIndex]),{},{correct:false})]);if(currentIndex+1<quizCards.length){setCurrentIndex(i=>i+1);setTimer(15);}else{setShowName(true);}};// 6) SAVE SCORE + BUMP STREAK\nconst saveScore=()=>{if(!playerName.trim())return;const correctCount=results.filter(r=>r.correct).length;fetch('https://study-classmate-server.onrender.com/save-score',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({username,name:playerName,score:correctCount})}).then(res=>res.json()).then(_ref2=>{let{scores:updated}=_ref2;setScores(updated);setShowName(false);setMode('select');setPlayerName('');const last=localStorage.getItem('lastQuizDate');if(last!==TODAY){localStorage.setItem('lastQuizDate',TODAY);fetch(\"https://study-classmate-server.onrender.com/get-streak?username=\".concat(username)).then(r=>r.json()).then(_ref3=>{let{streakDays}=_ref3;const next=(streakDays||0)+1;return fetch('https://study-classmate-server.onrender.com/save-streak',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({username,streakDays:next})});}).catch(console.error);}}).catch(console.error);};// SORTED LEADERBOARD\nconst sorted=[...scores].sort((a,b)=>{if(sortBy==='highest')return b.score-a.score;if(sortBy==='lowest')return a.score-b.score;if(sortBy==='earliest')return new Date(a.time)-new Date(b.time);return new Date(b.time)-new Date(a.time);});return/*#__PURE__*/_jsxs(\"div\",{className:\"common-page\",style:{backgroundImage:\"url(\".concat(process.env.PUBLIC_URL,\"/photos/pages3.jpg)\")},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"header-bar\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"home-link\",onClick:()=>navigate('/home2'),children:/*#__PURE__*/_jsx(\"img\",{src:\"\".concat(process.env.PUBLIC_URL,\"/photos/home.jpg\"),className:\"streak-home\",alt:\"Home\"})}),/*#__PURE__*/_jsx(\"h1\",{children:\"Let\\u2019s Play\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"right-bar\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"diamonds\",children:[\"\\uD83D\\uDC8E \",diamonds]}),activeTab==='Play'?/*#__PURE__*/_jsx(\"button\",{onClick:()=>setActiveTab('Leaderboard'),children:\"Leaderboard\"}):/*#__PURE__*/_jsx(\"button\",{onClick:()=>setActiveTab('Play'),children:\"Back\"})]})]}),activeTab==='Play'&&/*#__PURE__*/_jsxs(\"div\",{className:\"play-area\",children:[mode==='select'&&/*#__PURE__*/_jsxs(\"div\",{className:\"select-panel\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Number of Cards:\"}),/*#__PURE__*/_jsx(\"select\",{value:count,onChange:e=>{const n=+e.target.value;setCount(n);setManualList(Array.from({length:n},()=>({word:'',definition:''})));},children:[5,10,15].map(n=>/*#__PURE__*/_jsx(\"option\",{value:n,children:n},n))}),/*#__PURE__*/_jsx(\"button\",{onClick:handleGenerate,disabled:loadingGen,children:loadingGen?'Generating…':'Generate From AI'}),/*#__PURE__*/_jsx(\"h3\",{children:\"Or Manual Insert:\"}),manualList.map((c,i)=>/*#__PURE__*/_jsxs(\"div\",{className:\"manual-row\",children:[/*#__PURE__*/_jsx(\"input\",{placeholder:\"Word\",value:c.word,onChange:e=>{const copy=[...manualList];copy[i].word=e.target.value;setManualList(copy);}}),/*#__PURE__*/_jsx(\"input\",{placeholder:\"Meaning\",value:c.definition,onChange:e=>{const copy=[...manualList];copy[i].definition=e.target.value;setManualList(copy);}})]},i)),/*#__PURE__*/_jsx(\"button\",{onClick:handleReviewManual,disabled:!manualList.slice(0,count).every(c=>c.word&&c.definition),children:\"Review Manual Cards\"})]}),mode==='review'&&/*#__PURE__*/_jsxs(\"div\",{className:\"review-panel\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Flashcards Preview\"}),/*#__PURE__*/_jsx(\"div\",{className:\"flashcard-list\",children:cards.map((c,i)=>/*#__PURE__*/_jsx(\"div\",{className:\"flashcard\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"inner\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"front\",children:c.word}),/*#__PURE__*/_jsx(\"div\",{className:\"back\",children:c.definition})]})},i))}),/*#__PURE__*/_jsxs(\"div\",{className:\"review-buttons\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setMode('select'),children:\"Back\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleStartQuiz,children:\"Start Quiz\"})]})]}),mode==='quiz'&&/*#__PURE__*/_jsxs(\"div\",{className:\"quiz-panel\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"Time left: \",timer,\"s\"]}),/*#__PURE__*/_jsx(\"p\",{children:(_quizCards$currentInd=quizCards[currentIndex])===null||_quizCards$currentInd===void 0?void 0:_quizCards$currentInd.definition}),/*#__PURE__*/_jsx(\"input\",{value:guess,onChange:e=>setGuess(e.target.value)}),/*#__PURE__*/_jsxs(\"div\",{className:\"quiz-buttons\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:submitAnswer,children:\"Submit\"}),/*#__PURE__*/_jsx(\"button\",{onClick:confirmSkip,children:\"Skip\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>window.location.reload(),children:\"Restart\"})]})]}),showSkip&&/*#__PURE__*/_jsx(\"div\",{className:\"modal\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal-content\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"Use 10 diamonds to skip?\"}),/*#__PURE__*/_jsx(\"button\",{onClick:doSkip,children:\"Yes\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowSkip(false),children:\"No\"})]})}),showNoDiamonds&&/*#__PURE__*/_jsx(\"div\",{className:\"modal\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal-content warning\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"No more diamonds\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate('/purchase'),children:\"Store\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowNoDiamonds(false),children:\"Cancel\"})]})}),showFillModal&&/*#__PURE__*/_jsx(\"div\",{className:\"modal\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal-content\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"Fill the blank\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowFillModal(false),children:\"OK\"})]})}),showName&&/*#__PURE__*/_jsx(\"div\",{className:\"modal\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal-content\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Game Over!\"}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Score: \",results.filter(r=>r.correct).length]}),/*#__PURE__*/_jsx(\"input\",{placeholder:\"Enter your name\",value:playerName,onChange:e=>setPlayerName(e.target.value)}),/*#__PURE__*/_jsx(\"button\",{onClick:saveScore,children:\"Save\"})]})})]}),activeTab==='Leaderboard'&&/*#__PURE__*/_jsxs(\"div\",{className:\"leaderboard\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Leaderboard\"}),/*#__PURE__*/_jsxs(\"select\",{value:sortBy,onChange:e=>setSortBy(e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"highest\",children:\"Highest Score\"}),/*#__PURE__*/_jsx(\"option\",{value:\"lowest\",children:\"Lowest Score\"}),/*#__PURE__*/_jsx(\"option\",{value:\"earliest\",children:\"Earliest\"}),/*#__PURE__*/_jsx(\"option\",{value:\"latest\",children:\"Latest\"})]}),/*#__PURE__*/_jsx(\"ul\",{children:sorted.map((s,i)=>/*#__PURE__*/_jsxs(\"li\",{children:[s.name,\" \\u2013 \",s.score,\" \\u2013 \",s.time]},i))})]})]});}","map":{"version":3,"names":["React","useState","useEffect","useRef","useCallback","useNavigate","jsx","_jsx","jsxs","_jsxs","PlayPage","_quizCards$currentInd","navigate","TODAY","Date","toDateString","username","localStorage","getItem","activeTab","setActiveTab","diamonds","setDiamonds","scores","setScores","mode","setMode","cards","setCards","count","setCount","loadingGen","setLoadingGen","manualList","setManualList","Array","from","length","word","definition","quizCards","setQuizCards","currentIndex","setCurrentIndex","timer","setTimer","timerRef","guess","setGuess","results","setResults","showSkip","setShowSkip","showNoDiamonds","setShowNoDiamonds","showFillModal","setShowFillModal","showName","setShowName","playerName","setPlayerName","sortBy","setSortBy","fetch","concat","then","res","json","_ref","catch","console","error","handleGenerate","unique","Set","size","method","add","words","defs","Promise","all","map","r","headers","body","JSON","stringify","content","head","split","m","match","trim","replace","err","handleReviewManual","slice","handleStartQuiz","sort","Math","random","submitAnswer","clearInterval","current","card","correct","toLowerCase","_objectSpread","i","setInterval","t","confirmSkip","doSkip","newD","saveScore","correctCount","filter","name","score","_ref2","updated","last","setItem","_ref3","streakDays","next","sorted","a","b","time","className","style","backgroundImage","process","env","PUBLIC_URL","children","onClick","src","alt","value","onChange","e","n","target","disabled","c","placeholder","copy","every","window","location","reload","s"],"sources":["/Users/nangeaindrahein/study-classmate/client/src/pages/PlayPage.js"],"sourcesContent":["import React, { useState, useEffect, useRef, useCallback } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport './PlayPage.css';\n\nexport default function PlayPage() {\n  const navigate = useNavigate();\n  const TODAY = new Date().toDateString();\n  const username = localStorage.getItem('username');\n\n  // — GENERAL STATE —\n  const [activeTab, setActiveTab] = useState('Play');\n  const [diamonds, setDiamonds] = useState(20);\n  const [scores, setScores] = useState([]);\n\n  // — CARD SELECTION STATE —\n  const [mode, setMode] = useState('select');\n  const [cards, setCards] = useState([]);\n  const [count, setCount] = useState(5);\n  const [loadingGen, setLoadingGen] = useState(false);\n  const [manualList, setManualList] = useState(\n    Array.from({ length: count }, () => ({ word: '', definition: '' }))\n  );\n\n  // — QUIZ STATE —\n  const [quizCards, setQuizCards] = useState([]);\n  const [currentIndex, setCurrentIndex] = useState(0);\n  const [timer, setTimer] = useState(15);\n  const timerRef = useRef(null);\n  const [guess, setGuess] = useState('');\n  const [results, setResults] = useState([]);\n\n  // — MODALS & GAME OVER —\n  const [showSkip, setShowSkip] = useState(false);\n  const [showNoDiamonds, setShowNoDiamonds] = useState(false);\n  const [showFillModal, setShowFillModal] = useState(false);\n  const [showName, setShowName] = useState(false);\n  const [playerName, setPlayerName] = useState('');\n  const [sortBy, setSortBy] = useState('highest');\n\n  // 0) ON MOUNT: load diamonds & scores\n  useEffect(() => {\n    fetch(`https://study-classmate-server.onrender.com/game-state?username=${username}`)\n      .then(res => res.json())\n      .then(({ diamonds, scores }) => {\n        setDiamonds(diamonds);\n        setScores(scores);\n      })\n      .catch(console.error);\n  }, [username]);\n\n  // 1) GENERATE WORDS & DEFINITIONS\n  const handleGenerate = async () => {\n    setLoadingGen(true);\n    try {\n      const unique = new Set();\n      while (unique.size < count) {\n        const res = await fetch('https://study-classmate-server.onrender.com/generate-word', { method: 'POST' });\n        const { word } = await res.json();\n        unique.add(word);\n      }\n      const words = Array.from(unique);\n\n      const defs = await Promise.all(\n        words.map(async (word) => {\n          const r = await fetch('https://study-classmate-server.onrender.com/define-word', {\n            method: 'POST',\n            headers: { 'Content-Type': 'application/json' },\n            body: JSON.stringify({ word }),\n          });\n          const { content } = await r.json();\n          const head = content.split(/Example sentence/i)[0];\n          const m = head.match(/Definition:\\s*([^-\\n]+)/i);\n          const definition = m ? m[1].trim() : head.replace(/[-]/g, '').trim();\n          return { word, definition };\n        })\n      );\n\n      setCards(defs);\n      setMode('review');\n    } catch (err) {\n      console.error(err);\n    } finally {\n      setLoadingGen(false);\n    }\n  };\n\n  // 2) MANUAL REVIEW\n  const handleReviewManual = () => {\n    setCards(manualList.slice(0, count));\n    setMode('review');\n  };\n\n  // 3) START QUIZ\n  const handleStartQuiz = () => {\n    setQuizCards([...cards].sort(() => Math.random() - 0.5));\n    setResults([]);\n    setCurrentIndex(0);\n    setTimer(15);\n    setGuess('');\n    setMode('quiz');\n  };\n\n  // 4) SUBMIT ANSWER\n  const submitAnswer = useCallback(() => {\n    if (!guess.trim()) {\n      setShowFillModal(true);\n      return;\n    }\n    clearInterval(timerRef.current);\n    const card = quizCards[currentIndex];\n    const correct = guess.trim().toLowerCase() === card.word.toLowerCase();\n    setResults(r => [...r, { ...card, correct }]);\n    setGuess('');\n    if (currentIndex + 1 < quizCards.length) {\n      setCurrentIndex(i => i + 1);\n      setTimer(15);\n    } else {\n      setShowName(true);\n    }\n  }, [guess, quizCards, currentIndex]);\n\n  // TIMER EFFECT\n  useEffect(() => {\n    if (mode === 'quiz') {\n      clearInterval(timerRef.current);\n      timerRef.current = setInterval(() => {\n        setTimer(t => {\n          if (t <= 1) {\n            clearInterval(timerRef.current);\n            submitAnswer();\n            return 15;\n          }\n          return t - 1;\n        });\n      }, 1000);\n    }\n    return () => clearInterval(timerRef.current);\n  }, [mode, currentIndex, submitAnswer]);\n\n  // 5) SKIP (–10 diamonds)\n  const confirmSkip = () => {\n    diamonds >= 10 ? setShowSkip(true) : setShowNoDiamonds(true);\n  };\n  const doSkip = () => {\n    clearInterval(timerRef.current);\n    const newD = diamonds - 10;\n    setDiamonds(newD);\n    fetch('https://study-classmate-server.onrender.com/update-diamonds', {\n      method: 'POST',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify({ username, diamonds: newD }),\n    }).catch(console.error);\n\n    setShowSkip(false);\n    setResults(r => [...r, { ...quizCards[currentIndex], correct: false }]);\n    if (currentIndex + 1 < quizCards.length) {\n      setCurrentIndex(i => i + 1);\n      setTimer(15);\n    } else {\n      setShowName(true);\n    }\n  };\n\n  // 6) SAVE SCORE + BUMP STREAK\n  const saveScore = () => {\n    if (!playerName.trim()) return;\n    const correctCount = results.filter(r => r.correct).length;\n\n    fetch('https://study-classmate-server.onrender.com/save-score', {\n      method: 'POST',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify({ username, name: playerName, score: correctCount }),\n    })\n      .then(res => res.json())\n      .then(({ scores: updated }) => {\n        setScores(updated);\n        setShowName(false);\n        setMode('select');\n        setPlayerName('');\n\n        const last = localStorage.getItem('lastQuizDate');\n        if (last !== TODAY) {\n          localStorage.setItem('lastQuizDate', TODAY);\n          fetch(`https://study-classmate-server.onrender.com/get-streak?username=${username}`)\n            .then(r => r.json())\n            .then(({ streakDays }) => {\n              const next = (streakDays || 0) + 1;\n              return fetch('https://study-classmate-server.onrender.com/save-streak', {\n                method: 'POST',\n                headers: { 'Content-Type': 'application/json' },\n                body: JSON.stringify({ username, streakDays: next }),\n              });\n            })\n            .catch(console.error);\n        }\n      })\n      .catch(console.error);\n  };\n\n  // SORTED LEADERBOARD\n  const sorted = [...scores].sort((a, b) => {\n    if (sortBy === 'highest')  return b.score - a.score;\n    if (sortBy === 'lowest')   return a.score - b.score;\n    if (sortBy === 'earliest') return new Date(a.time) - new Date(b.time);\n    return new Date(b.time) - new Date(a.time);\n  });\n\n  return (\n    <div className=\"common-page\"\n         style={{ backgroundImage: `url(${process.env.PUBLIC_URL}/photos/pages3.jpg)` }}\n    >\n      {/* HEADER */}\n      <div className=\"header-bar\">\n        <div className=\"home-link\" onClick={() => navigate('/home2')}>\n          <img\n            src={`${process.env.PUBLIC_URL}/photos/home.jpg`}\n            className=\"streak-home\"\n            alt=\"Home\"\n          />\n        </div>\n        <h1>Let’s Play</h1>\n        <div className=\"right-bar\">\n          <span className=\"diamonds\">💎 {diamonds}</span>\n          {activeTab === 'Play'\n            ? <button onClick={() => setActiveTab('Leaderboard')}>Leaderboard</button>\n            : <button onClick={() => setActiveTab('Play')}>Back</button>}\n        </div>\n      </div>\n\n      {/* PLAY AREA */}\n      {activeTab === 'Play' && (\n        <div className=\"play-area\">\n          {/* SELECT MODE */}\n          {mode === 'select' && (\n            <div className=\"select-panel\">\n              <label>Number of Cards:</label>\n              <select\n                value={count}\n                onChange={e => {\n                  const n = +e.target.value;\n                  setCount(n);\n                  setManualList(Array.from({ length: n }, () => ({ word:'',definition:'' })));\n                }}\n              >\n                {[5,10,15].map(n => (\n                  <option key={n} value={n}>{n}</option>\n                ))}\n              </select>\n              <button onClick={handleGenerate} disabled={loadingGen}>\n                {loadingGen ? 'Generating…' : 'Generate From AI'}\n              </button>\n\n              <h3>Or Manual Insert:</h3>\n              {manualList.map((c,i) => (\n                <div key={i} className=\"manual-row\">\n                  <input\n                    placeholder=\"Word\"\n                    value={c.word}\n                    onChange={e => {\n                      const copy = [...manualList];\n                      copy[i].word = e.target.value;\n                      setManualList(copy);\n                    }}\n                  />\n                  <input\n                    placeholder=\"Meaning\"\n                    value={c.definition}\n                    onChange={e => {\n                      const copy = [...manualList];\n                      copy[i].definition = e.target.value;\n                      setManualList(copy);\n                    }}\n                  />\n                </div>\n              ))}\n\n              <button\n                onClick={handleReviewManual}\n                disabled={!manualList.slice(0,count).every(c=>c.word&&c.definition)}\n              >\n                Review Manual Cards\n              </button>\n            </div>\n          )}\n\n          {/* REVIEW MODE */}\n          {mode === 'review' && (\n            <div className=\"review-panel\">\n              <h2>Flashcards Preview</h2>\n              <div className=\"flashcard-list\">\n                {cards.map((c,i)=>(\n                  <div key={i} className=\"flashcard\">\n                    <div className=\"inner\">\n                      <div className=\"front\">{c.word}</div>\n                      <div className=\"back\">{c.definition}</div>\n                    </div>\n                  </div>\n                ))}\n              </div>\n              <div className=\"review-buttons\">\n                <button onClick={()=>setMode('select')}>Back</button>\n                <button onClick={handleStartQuiz}>Start Quiz</button>\n              </div>\n            </div>\n          )}\n\n          {/* QUIZ MODE */}\n          {mode === 'quiz' && (\n            <div className=\"quiz-panel\">\n              <p>Time left: {timer}s</p>\n              <p>{quizCards[currentIndex]?.definition}</p>\n              <input value={guess} onChange={e=>setGuess(e.target.value)} />\n              <div className=\"quiz-buttons\">\n                <button onClick={submitAnswer}>Submit</button>\n                <button onClick={confirmSkip}>Skip</button>\n                <button onClick={()=>window.location.reload()}>Restart</button>\n              </div>\n            </div>\n          )}\n\n          {/* MODALS */}\n          {showSkip && (\n            <div className=\"modal\">\n              <div className=\"modal-content\">\n                <p>Use 10 diamonds to skip?</p>\n                <button onClick={doSkip}>Yes</button>\n                <button onClick={()=>setShowSkip(false)}>No</button>\n              </div>\n            </div>\n          )}\n\n          {showNoDiamonds && (\n            <div className=\"modal\">\n              <div className=\"modal-content warning\">\n                <p>No more diamonds</p>\n                <button onClick={()=>navigate('/purchase')}>Store</button>\n                <button onClick={()=>setShowNoDiamonds(false)}>Cancel</button>\n              </div>\n            </div>\n          )}\n\n          {showFillModal && (\n            <div className=\"modal\">\n              <div className=\"modal-content\">\n                <p>Fill the blank</p>\n                <button onClick={()=>setShowFillModal(false)}>OK</button>\n              </div>\n            </div>\n          )}\n\n          {showName && (\n            <div className=\"modal\">\n              <div className=\"modal-content\">\n                <h3>Game Over!</h3>\n                <p>Score: {results.filter(r=>r.correct).length}</p>\n                <input\n                  placeholder=\"Enter your name\"\n                  value={playerName}\n                  onChange={e=>setPlayerName(e.target.value)}\n                />\n                <button onClick={saveScore}>Save</button>\n              </div>\n            </div>\n          )}\n        </div>\n      )}\n\n      {/* LEADERBOARD */}\n      {activeTab === 'Leaderboard' && (\n        <div className=\"leaderboard\">\n          <h2>Leaderboard</h2>\n          <select value={sortBy} onChange={e=>setSortBy(e.target.value)}>\n            <option value=\"highest\">Highest Score</option>\n            <option value=\"lowest\">Lowest Score</option>\n            <option value=\"earliest\">Earliest</option>\n            <option value=\"latest\">Latest</option>\n          </select>\n          <ul>\n            {sorted.map((s,i)=>(\n              <li key={i}>{s.name} – {s.score} – {s.time}</li>\n            ))}\n          </ul>\n        </div>\n      )}\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}